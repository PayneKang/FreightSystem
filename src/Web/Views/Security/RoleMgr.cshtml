@using FreightSystem.Models;
@model FreightSystem.Models.RoleModel
@{
    ViewBag.Title = "编辑角色";
}

<hgroup class="title">
    <h1>@ViewBag.Title</h1>
</hgroup>

<section id="newTransportForm">
<h2>@ViewBag.ErrorMessage</h2>
@using (Html.BeginForm()) {
    @Html.HiddenFor(m=>m.RoleID)
    <fieldset>
    <table>
        <tr>
            <th style="width:110px;">角色名称</th>
            <td style="width:250px;">@Html.TextBoxFor(m => m.RoleName) *
                @Html.ValidationMessageFor(m => m.RoleName)</td>
        </tr>
        <tr>
            <th style="width:110px;">菜单项</th>
            <td style="width:250px;">
                <ul>
                @foreach (MenuItemModel menu in ViewBag.AllMenu)
                {
                    <li> 
                    @if (Model.Menus.Exists(x => x.MenuCode == menu.MenuCode))
                    { 
                        <input type="checkbox" name="Menus" value="@menu.MenuCode" checked="checked" />
                    }
                    else
                    {
                        <input type="checkbox" name="Menus" value="@menu.MenuCode"/>
                    }
                    @menu.MenuText </li>
                }
                </ul>
            </td>
        </tr>
        <tr>
            <th>权限</th>
            <td>
                @Html.TextAreaFor(m => m.AccessList) *
                @Html.ValidationMessageFor(m => m.AccessList)
            </td>
        </tr>
    </table>
    <input type="submit" value="保存" />
    </fieldset>
}
</section>